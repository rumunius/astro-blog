diff --git a/node_modules/astro-pure/components/pages/TOC.astro b/node_modules/astro-pure/components/pages/TOC.astro
index 421842d..3ed8b27 100644
--- a/node_modules/astro-pure/components/pages/TOC.astro
+++ b/node_modules/astro-pure/components/pages/TOC.astro
@@ -48,7 +48,7 @@ const toc = generateToc(headings)
 
       // Initialize the headings and tocLinks
       this.headings = Array.from(
-        document.querySelectorAll('article h2, article h3, article h4, article h5, article h6')
+        document.querySelectorAll('article h1, article h2, article h3, article h4')
       )
       this.tocLinks = Array.from(this.querySelectorAll('a[href^="#"]')).map((link) => ({
         element: link as HTMLAnchorElement,
@@ -76,8 +76,8 @@ const toc = generateToc(headings)
       })
 
       this.tocLinks.forEach(({ element: el, progressBar: bar, slug }, i) => {
-        const { inView, progress } = this.headingProgress[slug]
         if (this.headingProgress[slug]) {
+          const { inView, progress } = this.headingProgress[slug]
           el.classList.toggle('highlight', inView)
           el.classList.toggle('highlight-bg-translucent', inView)
           el.classList.toggle(
diff --git a/node_modules/astro-pure/components/pages/TOCHeading.astro b/node_modules/astro-pure/components/pages/TOCHeading.astro
index 0090994..bb59b4b 100644
--- a/node_modules/astro-pure/components/pages/TOCHeading.astro
+++ b/node_modules/astro-pure/components/pages/TOCHeading.astro
@@ -22,7 +22,9 @@ const text = rawText.endsWith('#') ? rawText.slice(0, -1) : rawText
       aria-label={`Scroll to section: ${text}`}
       class={cn(
         'toc-item line-clamp-2 px-3 py-1 ms-2 text-foreground/75 transition-all hover:text-foreground [&.highlight]:font-medium [&.highlight]:text-primary [&.is-read]:text-input [&.highlight-bg-translucent]:bg-muted',
-        depth > 2 && 'ps-7'
+        depth === 2 && 'ps-5',
+        depth === 3 && 'ps-8',
+        depth >= 4 && 'ps-11'
       )}
       href={`#${slug}`}>{text}</a
     >
diff --git a/node_modules/astro-pure/plugins/toc.ts b/node_modules/astro-pure/plugins/toc.ts
index 2609983..0e493dd 100644
--- a/node_modules/astro-pure/plugins/toc.ts
+++ b/node_modules/astro-pure/plugins/toc.ts
@@ -14,19 +14,24 @@ function diveChildren(item: TocItem, depth: number): TocItem[] {
 }
 
 export function generateToc(headings: readonly MarkdownHeading[]) {
-  // this ignores/filters out h1 element(s)
-  const bodyHeadings = [...headings.filter(({ depth }) => depth > 1)]
+  // include all headings including h1 element(s)
+  const bodyHeadings = [...headings.filter(({ depth }) => depth > 0 && depth < 5)]
   const toc: TocItem[] = []
 
+  // Find the minimum depth to use as top level
+  const minDepth = bodyHeadings.length > 0 
+    ? Math.min(...bodyHeadings.map(h => h.depth))
+    : 1
+
   bodyHeadings.forEach((h) => {
     const heading: TocItem = { ...h, subheadings: [] }
 
-    // add h2 elements into the top level
-    if (heading.depth === 2) {
+    // add headings with minimum depth into the top level
+    if (heading.depth === minDepth) {
       toc.push(heading)
     } else {
-      const lastItemInToc = toc[toc.length - 1]!
-      if (heading.depth < lastItemInToc.depth) {
+      const lastItemInToc = toc[toc.length - 1]
+      if (!lastItemInToc || heading.depth < lastItemInToc.depth) {
         throw new Error(`Orphan heading found: ${heading.text}.`)
       }
 
